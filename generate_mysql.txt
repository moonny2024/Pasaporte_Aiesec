CREATE TABLE Achievements (id_achievement int(11) NOT NULL AUTO_INCREMENT, name varchar(50) NOT NULL UNIQUE, description varchar(100), image varchar(250) NOT NULL, state int(11) NOT NULL, type char(1) NOT NULL, reward int(11) NOT NULL, PRIMARY KEY (id_achievement));
CREATE TABLE Badges (id_badge int(11) NOT NULL AUTO_INCREMENT, name varchar(100) NOT NULL, image varchar(250), state int(11) NOT NULL, PRIMARY KEY (id_badge));
CREATE TABLE Coins (id_coin int(11) NOT NULL AUTO_INCREMENT, type char(1) NOT NULL, image varchar(250) NOT NULL, state int(11) NOT NULL, date_end date NOT NULL, PRIMARY KEY (id_coin));
CREATE TABLE Events (id_event int(11) NOT NULL AUTO_INCREMENT, name varchar(100) NOT NULL UNIQUE, category int(11), description varchar(200), image varchar(250), `date` date NOT NULL, time_start time NOT NULL, hours int(11), `mode` int(11) NOT NULL, llink varchar(100), state int(11) NOT NULL, coins_common int(11), coins_rare int(11), coins_mythical int(11), Badgesid_badge int(11) NOT NULL, PRIMARY KEY (id_event));
CREATE TABLE Presence (id_presence int(11) NOT NULL AUTO_INCREMENT, state int(11) NOT NULL, description varchar(200), Eventsid_event int(11) NOT NULL, Usersid_user int(11) NOT NULL, PRIMARY KEY (id_presence));
CREATE TABLE Rewards (id_reward int(11) NOT NULL AUTO_INCREMENT, name varchar(150) NOT NULL, description varchar(200) NOT NULL, state int(11) NOT NULL, link varchar(100), image varchar(250), required_coins_common int(11), required_coins_rare int(11), required_coins_mythical int(11), PRIMARY KEY (id_reward));
CREATE TABLE Tasks (id_task int(11) NOT NULL AUTO_INCREMENT, name varchar(100) NOT NULL, description varchar(200), state int(11) NOT NULL, PRIMARY KEY (id_task));
CREATE TABLE Users (id_user int(11) NOT NULL AUTO_INCREMENT, email varchar(100) NOT NULL UNIQUE, password varchar(20) NOT NULL, image varchar(250), name varchar(50) NOT NULL, lastname varchar(100) NOT NULL, birthday date NOT NULL, date_start date NOT NULL, role varchar(3) NOT NULL, type char(1) NOT NULL, area varchar(20) NOT NULL, state int(11) NOT NULL, PRIMARY KEY (id_user));
CREATE TABLE Users_Achievements (Usersid_user int(11) NOT NULL, Achievementsid_achievement int(11) NOT NULL, `date` date NOT NULL, PRIMARY KEY (Usersid_user, Achievementsid_achievement));
CREATE TABLE Users_Coins (Usersid_user int(11) NOT NULL, Coinsid_coin int(11) NOT NULL, `date` date NOT NULL, amount int(11) NOT NULL, PRIMARY KEY (Usersid_user, Coinsid_coin));
CREATE TABLE Users_Rewards (Usersid_user int(11) NOT NULL, Rewardsid_reward int(11) NOT NULL, `date` date NOT NULL, PRIMARY KEY (Usersid_user, Rewardsid_reward));
CREATE TABLE Users_Tasks (Usersid_user int(11) NOT NULL, Tasksid_task int(11) NOT NULL, date_start date NOT NULL, date_end date NOT NULL, state int(11) NOT NULL, PRIMARY KEY (Usersid_user, Tasksid_task));
ALTER TABLE Events ADD CONSTRAINT FKEvents7450 FOREIGN KEY (Badgesid_badge) REFERENCES Badges (id_badge);
ALTER TABLE Users_Coins ADD CONSTRAINT FKUsers_Coin682743 FOREIGN KEY (Coinsid_coin) REFERENCES Coins (id_coin);
ALTER TABLE Users_Coins ADD CONSTRAINT FKUsers_Coin646944 FOREIGN KEY (Usersid_user) REFERENCES Users (id_user);
ALTER TABLE Presence ADD CONSTRAINT FKPresence185980 FOREIGN KEY (Usersid_user) REFERENCES Users (id_user);
ALTER TABLE Presence ADD CONSTRAINT FKPresence977742 FOREIGN KEY (Eventsid_event) REFERENCES Events (id_event);
ALTER TABLE Users_Achievements ADD CONSTRAINT FKUsers_Achi759338 FOREIGN KEY (Achievementsid_achievement) REFERENCES Achievements (id_achievement);
ALTER TABLE Users_Achievements ADD CONSTRAINT FKUsers_Achi841254 FOREIGN KEY (Usersid_user) REFERENCES Users (id_user);
ALTER TABLE Users_Tasks ADD CONSTRAINT FKUsers_Task437235 FOREIGN KEY (Tasksid_task) REFERENCES Tasks (id_task);
ALTER TABLE Users_Tasks ADD CONSTRAINT FKUsers_Task354629 FOREIGN KEY (Usersid_user) REFERENCES Users (id_user);
ALTER TABLE Users_Rewards ADD CONSTRAINT FKUsers_Rewa892100 FOREIGN KEY (Rewardsid_reward) REFERENCES Rewards (id_reward);
ALTER TABLE Users_Rewards ADD CONSTRAINT FKUsers_Rewa932442 FOREIGN KEY (Usersid_user) REFERENCES Users (id_user);